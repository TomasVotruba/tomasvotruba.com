{% extends 'layout/layout_base.twig' %}

{% block content %}
    <div class="container-fluid">
        <div class="text-center book-banner">
            <a href="https://leanpub.com/rector-the-power-of-automated-refactoring" target="blank" class="text-center">
                <img src="{{ asset('assets/images/banner-rector-book.png') }}" class="mb-2 ml-auto mr-auto rounded mb-5" style="max-height: 5em" alt="">
            </a>
        </div>

        <div class="row">
            <div class="col-3">
                <a href="{{ path('about') }}">
                    <img src="{{ asset('assets/images/tomas_votruba.jpg') }}" class="rounded-circle mt-2 ml-5 mb-5 shadow border border-light">
                </a>
            </div>

            <div class="col-9">
                <h1>
                    I help PHP Companies <br>
                    Change Fast&nbsp;and&nbsp;Safely
                </h1>
            </div>
        </div>

        <br>
        <br>
        <br>

        <div class="clearfix"></div>

        <h2 class="mb-4">
            What I wrote recently?
        </h2>

        <div class="text-bigger">
            {% for post in last_posts %}
                {# @var post \TomasVotruba\Blog\ValueObject\Post #}
                <p class="mb-3">
                    <div class="small pull-right text-secondary">
                        {{ post.getDateTime|date("Y-m-d") }}
                    </div>

                    â€¢&nbsp;&nbsp;<a href="{{ path(constant('TomasVotruba\\Website\\ValueObject\\RouteName::POST_DETAIL'), {slug: post.slug }) }}" class="pt-3 pr-3">{{ post.title|raw }}</a>
                </p>
            {% endfor %}


            <a href="{{ path(constant('TomasVotruba\\Website\\ValueObject\\RouteName::BLOG')) }}" class="btn btn-warning pull-right mt-4">Discover more Posts </a>
        </div>

        <br>
        <br>
        <br>
        <hr>
        <br>
        <br>

        {# my dad raised me with quotes, at first I didn't understand them,
        as I was older, I ralized the Truth - it's a coding standard for Life #}

        <blockquote class="blockquote text-center">
            "{{ quote|raw }}"
        </blockquote>

        <br>

        <script type="text/javascript">
            // @see https://stackoverflow.com/a/30776817/1348344
            var date = new Date();
            // display every 3rd hour, not to spam users
            if (date.getHours() % 3 === 1) {
                document.querySelector('.book-banner').style.display = 'visible';
            } else {
                document.querySelector('.book-banner').style.display = 'none';
            }
        </script>
    </div>
{% endblock %}
